(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{32:function(n,t,e){},40:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(2),i=e.n(c),o=e(22),a=e.n(o),u=(e(32),e(7)),s=e(15),b=(e(33),e(35),e(3)),p=e(4);function l(){var n=Object(b.a)(["\n  html {\n    box-sizing: border-box;\n  }\n\n  *,\n  *::before,\n  *::after {\n    box-sizing: inherit;\n  }\n\n  body {\n    margin: 0;\n    background-color: #f0f0f0;\n    font-family: Roboto, sans-serif;\n    font-size: 20px;\n    color: black;\n  }\n\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  h1, h2, h3 {\n    font-family: Pacifico;\n    padding: 0;\n    margin: 0;\n  }\n\n  p {\n    padding: 0;\n    margin: 0;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n  input, button {\n    font: inherit;\n  }\n\n  input[type='number'] {\n  -moz-appearance: textfield;\n  }\n  \n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n"]);return l=function(){return n},n}var f=Object(p.a)(l()),d=e.p+"static/media/logo.03f3b0f4.svg",j=e.p+"static/media/sign.b9361011.svg";function x(){var n=Object(b.a)(["\n  margin: 0 30px;\n"]);return x=function(){return n},n}function h(){var n=Object(b.a)(["\n  font-size: 20px;\n  font-weight: 700;\n  cursor: pointer;\n  margin-right: 30px;\n"]);return h=function(){return n},n}function g(){var n=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  text-align: center;\n"]);return g=function(){return n},n}function O(){var n=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: transparent;\n  border: none;\n  color: inherit;\n  font-size: 16px;\n  line-height: 19px;\n  cursor: pointer;\n"]);return O=function(){return n},n}function m(){var n=Object(b.a)(["\n  width: 50px;\n"]);return m=function(){return n},n}function v(){var n=Object(b.a)(["\n  font-size: 24px;\n  margin-left: 15px;\n"]);return v=function(){return n},n}function k(){var n=Object(b.a)(["\n  display: flex;\n  align-items: center;\n"]);return k=function(){return n},n}function w(){var n=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 999;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 80px;\n  width: 100%;\n  padding: 20px;\n  background-color: #299B01;\n  color: white;\n  z-index: 2;\n"]);return w=function(){return n},n}var y=p.b.header(w()),I=p.b.div(k()),C=p.b.h1(v()),z=p.b.img(m()),S=p.b.button(O()),B=p.b.div(g()),L=p.b.span(h()),F=p.b.figure(x()),R=function(n){var t=n.authentification,e=n.logIn,c=n.logOut;return Object(r.jsxs)(y,{children:[Object(r.jsxs)(I,{children:[Object(r.jsx)(z,{src:d,alt:"logo"}),Object(r.jsx)(C,{children:"MRDonald\u2019s"})]}),t?Object(r.jsxs)(B,{children:[Object(r.jsxs)(F,{children:[Object(r.jsx)("img",{src:j,alt:t.displayName}),Object(r.jsx)("figcaption",{children:t.displayName})]}),Object(r.jsx)(L,{title:"\u0412\u044b\u0439\u0442\u0438",onClick:c,children:"X"})]}):Object(r.jsx)(S,{onClick:e,children:Object(r.jsxs)(F,{children:[Object(r.jsx)("img",{src:j,alt:"login"}),Object(r.jsx)("figcaption",{children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})},A=function(n){var t=n.topping&&n.topping.filter((function(n){return n.checked})).length,e=.1*n.price*t;return(n.price+e)*n.count},D=function(n){return n.toLocaleString("ru-RU",{style:"currency",currency:"RUB"})};function P(){var n=Object(b.a)(["\n  width: 400px;\n  height: 155px;\n  background-image: ",";\n  background-position: center;\n  background-size: cover;\n  margin-top: 30px;\n  margin-right: 30px;\n  padding: 15px;\n  color: white;\n  font-size: 30px;\n  z-index: 1;\n  position: relative;\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    top: 0;\n    right: 0;\n    left: 0;\n    background-color: black;\n    opacity: 30%;\n    z-index: -1;\n  }\n  &:hover {\n    cursor: pointer;\n    box-shadow: inset 0 0 50px 30px rgba(0,0,0,1);\n    &:after {\n      opacity: 0;\n    }\n  }\n"]);return P=function(){return n},n}function U(){var n=Object(b.a)(["\n  display: flex;\n  justy fy-content: space-around;\n  flex-wrap: wrap;\n"]);return U=function(){return n},n}var E=p.b.ul(U()),T=p.b.li(P(),(function(n){return"url(".concat(n.img,")")})),M=function(n){var t=n.itemList,e=n.setOpenItem;return Object(r.jsx)(E,{children:t.map((function(n){return Object(r.jsxs)(T,{img:n.img,onClick:function(){return e(n)},children:[Object(r.jsx)("p",{children:n.name}),Object(r.jsx)("p",{children:D(n.price)})]},n.id)}))})},N=e.p+"static/media/banner.73b8cb5c.png",G=e(18),J=e.n(G),q=e(26),K=e(8);function V(){var n=Object(b.a)(["\n  width: 100%;\n  height: 210px;\n  background-image: url(",");\n  background-size: cover;\n  background-position: center;\n"]);return V=function(){return n},n}function W(){var n=Object(b.a)(["\n  padding: 30px;\n"]);return W=function(){return n},n}function X(){var n=Object(b.a)(["\n  background-color: #ccc;\n  margin-top: 80px;\n  margin-left: 380px;\n"]);return X=function(){return n},n}var Z=p.b.main(X()),H=p.b.section(W()),Q=p.b.div(V(),N),Y=function(n){var t=n.setOpenItem,e=function(){var n=Object(c.useState)(null),t=Object(K.a)(n,2),e=t[0],r=t[1],i=Object(c.useState)(null),o=Object(K.a)(i,2),a=o[0],u=o[1];return Object(c.useEffect)((function(){!function(){var n=Object(q.a)(J.a.mark((function n(){var t,e;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("DB.json");case 3:return t=n.sent,n.next=6,t.json();case 6:e=n.sent,r(e),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),u(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}()()}),[]),{response:e,error:a}}(),i=e.response;return Object(r.jsxs)(Z,{children:[Object(r.jsx)(Q,{}),i?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(H,{children:[Object(r.jsx)("h2",{children:"\u0411\u0443\u0440\u0433\u0435\u0440\u044b"}),Object(r.jsx)(M,{itemList:i.burger,setOpenItem:t})]}),Object(r.jsxs)(H,{children:[Object(r.jsx)("h2",{children:"\u0417\u0430\u043a\u0443\u0441\u043a\u0438 / \u041d\u0430\u043f\u0438\u0442\u043a\u0438"}),Object(r.jsx)(M,{itemList:i.other,setOpenItem:t})]})]}):e.error?Object(r.jsx)("div",{children:"Sorry, we will fix it soon!"}):Object(r.jsx)("div",{children:"Loading..."})]})},$=e(12);function _(){var n=Object(b.a)(["\n  background-color: #299B01;\n  border: 2px solid #299B01;\n  font-size: 21px;\n  color: white;\n  padding: 18px 0;\n  width: 246px;\n  transition: all 0.3s linear;\n  margin: 0 auto;\n  cursor: pointer;\n  &:hover {\n    background-color: transparent;\n    color: #299B01;\n  }\n  &:disabled {\n    color: #bbb;\n    background-color: #ccc;\n    border-color: #aaa;\n  }\n"]);return _=function(){return n},n}var nn=p.b.button(_());function tn(){var n=Object(b.a)(["\n  background-color: transparent;\n"]);return tn=function(){return n},n}function en(){var n=Object(b.a)(["\n  width: 50px;\n  font-size: 20px;\n"]);return en=function(){return n},n}function rn(){var n=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  padding: 0 50px 0 37px;\n"]);return rn=function(){return n},n}var cn=p.b.div(rn()),on=p.b.input(en()),an=p.b.button(tn()),un=function(n){var t=n.count,e=n.setCount,c=n.onChange;return Object(r.jsxs)(cn,{children:[Object(r.jsx)("span",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(r.jsxs)("div",{children:[Object(r.jsx)(an,{disabled:t<=1,onClick:function(){return e(t-1)},children:"-"}),Object(r.jsx)(on,{type:"number",min:"1",max:"100",value:t<1?1:t,onChange:c}),Object(r.jsx)(an,{onClick:function(){return e(t+1)},children:"+"})]})]})};function sn(){var n=Object(b.a)(["\n  cursor: pointer;\n  margin-rigth: 5px;\n"]);return sn=function(){return n},n}function bn(){var n=Object(b.a)(["\n  cursor: pointer;\n  display: block;\n"]);return bn=function(){return n},n}function pn(){var n=Object(b.a)(["\n  max-width: 500px;\n  margin: 0 auto;\n  column-count: 2;\n  column-gap: 15px;\n"]);return pn=function(){return n},n}var ln=p.b.div(pn()),fn=p.b.label(bn()),dn=p.b.input(sn()),jn=function(n){var t=n.toppings,e=n.checkToppings;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"\u0414\u043e\u0431\u0430\u0432\u043a\u0438"}),Object(r.jsx)(ln,{children:t.map((function(n,t){return Object(r.jsxs)(fn,{children:[Object(r.jsx)(dn,{type:"checkbox",checked:n.checked,onChange:function(){return e(t)}}),n.name]},t)}))})]})};function xn(){var n=Object(b.a)(["\n  cursor: pointer;\n  display: block;\n"]);return xn=function(){return n},n}function hn(){var n=Object(b.a)(["\n  cursor: pointer;\n  margin-rigth: 5px;\n"]);return hn=function(){return n},n}function gn(){var n=Object(b.a)(["\n  max-width: 500px;\n  margin: 0 auto;\n  column-count: 2;\n  column-gap: 15px;\n"]);return gn=function(){return n},n}var On=p.b.div(gn()),mn=p.b.input(hn()),vn=p.b.label(xn()),kn=function(n){var t=n.openItem,e=n.choice,c=n.changeChoices;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"\u0412\u044b\u0431\u0438\u0440\u0430\u0439\u0442\u0435:"}),Object(r.jsx)(On,{children:t.choices.map((function(n,t){return Object(r.jsxs)(vn,{children:[Object(r.jsx)(mn,{type:"radio",name:"choises",checked:e===n,value:n,onChange:c}),n]},t)}))})]})};function wn(){var n=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  padding: 0 50px 0 37px;\n"]);return wn=function(){return n},n}function yn(){var n=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 43px;\n  flex: 1 0 auto;\n  height: calc(100% - 200px);\n"]);return yn=function(){return n},n}function In(){var n=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  padding: 0 50px 0 37px;\n  font-size: 30px;\n  font-family: Pacifico;\n  font-style: normal;\n  font-weight: normal;\n"]);return In=function(){return n},n}function Cn(){var n=Object(b.a)(["\n  width: 100%;\n  height: 200px;\n  background-image: url(",");\n  background-size: cover;\n  background-position: center;\n  margin-bottom: 20px;\n"]);return Cn=function(){return n},n}function zn(){var n=Object(b.a)(["\n  background-color: #fff;\n  width: 600px;\n  height: 600px;\n"]);return zn=function(){return n},n}function Sn(){var n=Object(b.a)(["\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0,0,0,.5);\n  z-index: 20;\n"]);return Sn=function(){return n},n}var Bn=p.b.div(Sn()),Ln=p.b.div(zn()),Fn=p.b.div(Cn(),(function(n){return n.img})),Rn=p.b.div(In()),An=p.b.div(yn()),Dn=p.b.div(wn()),Pn=function(n){var t=n.openItem,e=n.setOpenItem,i=n.orders,o=n.setOrders,a=function(n){var t=Object(c.useState)(n||1),e=Object(K.a)(t,2),r=e[0],i=e[1];return{count:r,setCount:i,onChange:function(n){return i(n.target.value)}}}(t.count),s=function(n){var t=n.topping?n.topping:n.toppings?function(n){return n.map((function(n){return{name:n,checked:!1}}))}(n.toppings):[],e=Object(c.useState)(t),r=Object(K.a)(e,2),i=r[0],o=r[1];return{toppings:i,checkToppings:function(n){o(i.map((function(t,e){return e===n&&(t.checked=!t.checked),t})))}}}(t),b=function(){var n=Object(c.useState)(),t=Object(K.a)(n,2),e=t[0],r=t[1];return{choice:e,changeChoices:function(n){r(n.target.value)}}}(),p=t.index>-1,l=Object(u.a)(Object(u.a)({},t),{},{count:a.count,topping:s.toppings,choice:b.choice});return Object(r.jsx)(Bn,{id:"overlay",onClick:function(n){"overlay"===n.target.id&&e(null)},children:Object(r.jsxs)(Ln,{children:[Object(r.jsx)(Fn,{img:t.img}),Object(r.jsxs)(An,{children:[Object(r.jsxs)(Rn,{children:[Object(r.jsx)("span",{children:t.name}),Object(r.jsx)("span",{children:D(t.price)})]}),Object(r.jsx)(un,Object(u.a)({},a)),t.toppings&&Object(r.jsx)(jn,Object(u.a)({},s)),t.choices&&Object(r.jsx)(kn,Object(u.a)(Object(u.a)({},b),{},{openItem:t})),Object(r.jsxs)(Dn,{children:[Object(r.jsx)("span",{children:"\u0426\u0435\u043d\u0430:"}),Object(r.jsx)("span",{children:D(A(l))})]}),Object(r.jsx)(nn,{onClick:p?function(){var n=Object($.a)(i);n[t.index]=l,o(n),e(null)}:function(){o([].concat(Object($.a)(i),[l])),e(null)},disabled:l.choices&&!l.choice,children:p?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})})},Un=e.p+"static/media/trash.86a58ab7.svg";function En(){var n=Object(b.a)(["\n  color: #9A9A9A;\n  font-size: 14px;\n  width: 100%;\n  cursor: pointer;\n  margin-right: 5px;\n"]);return En=function(){return n},n}function Tn(){var n=Object(b.a)(["\n  margin-left: 20px;\n  margin-right: 10px;\n  min-width: 65px;\n  text-align: right;\n"]);return Tn=function(){return n},n}function Mn(){var n=Object(b.a)(["\n  flex-grow: 1;\n"]);return Mn=function(){return n},n}function Nn(){var n=Object(b.a)(["\n  display: flex;\n  margin: 15px 0;\n  flex-wrapr: wrpa;\n  cursor: pointer;\n"]);return Nn=function(){return n},n}function Gn(){var n=Object(b.a)(["\n  width: 24px;\n  height: 24px;\n  border-color: transparent;\n  background-color: transparent;\n  background-image: url(",");\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  cursor: pointer;\n"]);return Gn=function(){return n},n}var Jn=p.b.button(Gn(),Un),qn=p.b.li(Nn()),Kn=p.b.span(Mn()),Vn=p.b.span(Tn()),Wn=p.b.div(En()),Xn=function(n){var t=n.order,e=n.index,c=n.deleteItem,o=n.setOpenItem,a=t.topping.filter((function(n){return!0===n.checked})),s=i.a.useRef(null);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(qn,{onClick:function(n){return n.target!==s.current&&o(Object(u.a)(Object(u.a)({},t),{},{index:e}))},children:[Object(r.jsxs)(Kn,{children:[t.name," ",t.choice]}),Object(r.jsx)("span",{children:t.count}),Object(r.jsx)(Vn,{children:D(A(t))}),Object(r.jsx)(Jn,{ref:s,onClick:function(){return c(e)}})]}),0!==a.length&&a.map((function(n,t){return Object(r.jsx)(Wn,{children:n.name},t)}))]})};function Zn(){var n=Object(b.a)(["\n  text-align: center;\n"]);return Zn=function(){return n},n}function Hn(){var n=Object(b.a)(["\n  text-align: right;\n  min-width: 65px;\n  margin-left: 20px;\n"]);return Hn=function(){return n},n}function Qn(){var n=Object(b.a)(["\n  display: flex;\n  margin: 0 35px 30px;\n  & span:first-child {\n    flex-grow: 1;\n  }\n"]);return Qn=function(){return n},n}function Yn(){var n=Object(b.a)(["\n\n"]);return Yn=function(){return n},n}function $n(){var n=Object(b.a)(["\n  flex-grow: 1;\n"]);return $n=function(){return n},n}function _n(){var n=Object(b.a)(["\n  text-align: center;\n  text-transform: uppercase;\n"]);return _n=function(){return n},n}function nt(){var n=Object(b.a)(["\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  top: 80px;\n  left: 0;\n  background: #fff;\n  min-width: 380px;\n  height: calc(100% - 80px);\n  box-shadow: 3px 4px 5px rgba(0,0,0, .25);\n  padding: 20px;\n"]);return nt=function(){return n},n}var tt=p.b.section(nt()),et=p.b.h2(_n()),rt=p.b.div($n()),ct=p.b.ul(Yn()),it=p.b.div(Qn()),ot=p.b.span(Hn()),at=p.b.p(Zn()),ut={name:["name"],price:["price"],count:["count"],topping:["topping",function(n){return n.filter((function(n){return n.checked})).map((function(n){return n.name}))},function(n){return n.length?n:"no topping"}],choice:["choice",function(n){return n||"no choices"}]},st=function(n){var t=n.orders,e=n.setOrders,c=n.setOpenItem,i=n.authentification,o=n.logIn,a=(0,n.firebaseDatabase)(),u=function(){var n=t.map(function(n){var t=Object.keys(n);return function(e){return t.reduce((function(t,r){return t[r]=n[r].reduce((function(n,t,r){return r?t(n):e[t]}),null),t}),{})}}(ut));a.ref("orders").push().set({nameClient:i.displayName,email:i.email,order:n}),e([])},s=function(n){var r=Object($.a)(t);r.splice(n,1),e(r)},b=t.reduce((function(n,t){return A(t)+n}),0),p=t.reduce((function(n,t){return t.count+n}),0);return Object(r.jsxs)(tt,{children:[Object(r.jsx)(et,{children:"\u0412\u0410\u0428 \u0417\u0410\u041a\u0410\u0417"}),Object(r.jsx)(rt,{children:t.length?Object(r.jsx)(ct,{children:t.map((function(n,t){return Object(r.jsx)(Xn,{order:n,deleteItem:s,index:t,setOpenItem:c},t)}))}):Object(r.jsx)(at,{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043f\u0443\u0441\u0442"})}),Object(r.jsxs)(it,{children:[Object(r.jsx)("span",{children:"\u0418\u0442\u043e\u0433\u043e"}),Object(r.jsx)("span",{children:p}),Object(r.jsx)(ot,{children:D(b)})]}),Object(r.jsx)(nn,{onClick:function(){i?u():o()},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})]})};s.a.initializeApp({apiKey:"AIzaSyACq0InaRtvLfBrRaUleLwd4-Gp-ZVUj3c",authDomain:"mrdonalds-bf0ab.firebaseapp.com",databaseURL:"https://mrdonalds-bf0ab.firebaseio.com",projectId:"mrdonalds-bf0ab",storageBucket:"mrdonalds-bf0ab.appspot.com",messagingSenderId:"264105233741",appId:"1:264105233741:web:826170952aec933fbffb04"});var bt=function(){var n=function(n){var t=Object(c.useState)(null),e=Object(K.a)(t,2),r=e[0],i=e[1],o=n(),a=new n.GoogleAuthProvider;return Object(c.useEffect)((function(){o.onAuthStateChanged((function(n){console.log(n),i(n||null)}))}),[o,r]),{authentification:r,logIn:function(){return o.signInWithPopup(a)},logOut:function(){return o.signOut().catch((function(n){return console.error(n)}))}}}(s.a.auth),t=function(){var n=Object(c.useState)(null),t=Object(K.a)(n,2);return{openItem:t[0],setOpenItem:t[1]}}(),e=function(){var n=Object(c.useState)([]),t=Object(K.a)(n,2);return{orders:t[0],setOrders:t[1]}}();return function(n){Object(c.useEffect)((function(){document.title=n?n.name:"MRDonald's"}),[n])}(t.openItem),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(f,{}),Object(r.jsx)(R,Object(u.a)({},n)),Object(r.jsx)(st,Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),t),n),{},{firebaseDatabase:s.a.database})),Object(r.jsx)(Y,Object(u.a)({},t)),t.openItem&&Object(r.jsx)(Pn,Object(u.a)(Object(u.a)({},t),e))]})},pt=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,41)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;e(n),r(n),c(n),i(n),o(n)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(bt,{})}),document.getElementById("root")),pt()}},[[40,1,2]]]);
//# sourceMappingURL=main.93727ede.chunk.js.map